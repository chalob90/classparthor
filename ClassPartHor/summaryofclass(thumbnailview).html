<html>  
  <head> 
	<meta charset-"utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>End of Class (Thumbnail)</title>
	<!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <!-- Custom styles for this template -->  
    <link href="bootstrap-3.1.1-dist/bootstrap-3.1.1-dist/css/signin.css" rel="stylesheet">
    <!-- Font Awesome CSS -->  
    <link href="font-awesome-4.0.3/css/font-awesome.css" rel="stylesheet">
    <!-- JQuery -->  
    <script src="js/jquery-1.10.1.min.js"></script>
    <!-- Firebase -->
    <script type='text/javascript' src='js/firebase.js'></script>    
    <script src="js/jqueryui/jquery-ui.min.js"></script>
    
    
    <script src="common.js"></script>
    
   
  
  </head>
  <body>
	<div class="container">
		<!-- buttons start here -->
		<a class="btn btn-sm btn-default pull-left" id="selectsessionbtn" href="selectclass.html"><i class="fa fa-undo"></i> Select Session</a>
    <a class="btn btn-sm btn-default pull-right" href="login.html"><i class="fa fa-sign-out"></i> Logout</a>
		<br /><br /><br />
      
      <ul class="nav nav-tabs">
        <!--<li class="active">-->
          <a href="summaryofclass(endsession).html">Change View to List</a>
        <!--</li>-->
      </ul>
    
      <div class="tab-pane">
      <table class="table table-hover" id="thumbview">
        
      <!--  <p class="bg-success">
        <img src="images/man.png" alt="#" class="img-thumbnail">
        Name: Aaron Lee<br/>
        Class Part Count: 4<br/>
        Seat No.: 8<br/>
      </p>
      <p class="bg-info">
        <img src="images/man.png" alt="#" class="img-thumbnail">
        Name: Brandon Tan<br/>
        Class Part Count: 10<br/>
        Seat No.: 5<br/>
      </p>
      <p class="bg-warning">
        <img src="images/man.png" alt="#" class="img-thumbnail">
        Name: Clement Ng<br/>
        Class Part Count: 3<br/>
        Seat No.: 12<br/>
      </p>
      <p class="bg-danger">
        <img src="images/man.png" alt="#" class="img-thumbnail">
        Name: Darren Boey<br/>
        Class Part Count: 2<br/>
        Seat No.: 25<br/>
      </p>-->
      </table>  

      </div>
    </div>
		<!-- buttons end here -->
    
    <style> 
      .btn {
        margin: 7px;  
      }
      
      .bg-success, .bg-info, .bg-warning, .bg-danger  {
        padding: 10px;  
      }
      
      img { 
        width: 55px;
        height: 55px;
        margin-top: 3px;
        margin-right: 10px;
        float: left;
      } 
      img:hover { 
        opacity: 1; 
      }
      td { 
        padding: 5px;
      }
    </style>
    <br />
    <script>
      studentRef.on('value', function(snapshot) {
        //alert('studentâ€™s first name is' + snapshot.val());
        
           
        snapshot.forEach(function(childSnapshot) {
          var studentObj = childSnapshot.val();
          var studentName = studentObj.name;
          var classPartCount = studentObj.todayCount;
          
          var thumbHTML = "<p>"
          + "<img src='" + studentObj.photo + "' alt='#' class='img-thumbnail'>"
          + "Name: " + studentObj.preferredName + "<br/>"
          + "Class Part Count: " + studentObj.todayCount + "<br/>"
          + "Seat No.: " + studentObj.seatNumber + "<br/>"
          + "</p>";
            
          var newThumbHTML;
          if (classPartCount==0) {
            newThumbHTML = thumbHTML;
          } else if (classPartCount>=5 ) {
            newThumbHTML = thumbHTML.replace("<p>","<p class='bg-danger'>");
          }  else {
            newThumbHTML = thumbHTML.replace("<p>","<p class='bg-warning'>");
          }
            
          //alert(paraHeader);
          //alert(thumbHTML);
            $("#thumbview").append(newThumbHTML);
            
          });
        
       
        
      });
      /* var sRef = appRef.child('students');
        sRef.once('value', function(snap) {
          //var students = [];
          snap.forEach(function(student) {
            var studentObj = student.val();
            
            var listHTML = "<tr><td>" + studentObj.preferredName + "</td>" 
                        + "<td>" + studentObj.todayCount + "</td>" 
                        + "<td>" + studentObj.seatNumber + "</td></tr>";
                $("#listtable").append(listHTML);
          });*/
      
      </script>

    
  </body>
  

  
</html>